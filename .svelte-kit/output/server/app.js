import { respond } from "@sveltejs/kit/ssr";
import { create_ssr_component, validate_component, missing_component, escape, each, add_attribute } from "svelte/internal";
import { setContext, afterUpdate, onMount } from "svelte";
var root_svelte_svelte_type_style_lang = "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}";
const css$1 = {
  code: "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",
  map: `{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["<!-- This file is generated by @sveltejs/kit \u2014 do not edit it! -->\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from 'svelte';\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\texport let props_2 = null;\\n\\texport let props_3 = null;\\n\\n\\tsetContext('__svelte__', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title || 'untitled page';\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n<\/script>\\n\\n<svelte:component this={components[0]} {...(props_0 || {})}>\\n\\t{#if components[1]}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}>\\n\\t\\t\\t{#if components[2]}\\n\\t\\t\\t\\t<svelte:component this={components[2]} {...(props_2 || {})}>\\n\\t\\t\\t\\t\\t{#if components[3]}\\n\\t\\t\\t\\t\\t\\t<svelte:component this={components[3]} {...(props_3 || {})}/>\\n\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t</svelte:component>\\n\\t\\t\\t{/if}\\n\\t\\t</svelte:component>\\n\\t{/if}\\n</svelte:component>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\t{title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AA2DC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}`
};
const Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { stores } = $$props;
  let { page } = $$props;
  let { components } = $$props;
  let { props_0 = null } = $$props;
  let { props_1 = null } = $$props;
  let { props_2 = null } = $$props;
  let { props_3 = null } = $$props;
  setContext("__svelte__", stores);
  afterUpdate(stores.page.notify);
  let mounted = false;
  let navigated = false;
  let title2 = null;
  onMount(() => {
    const unsubscribe = stores.page.subscribe(() => {
      if (mounted) {
        navigated = true;
        title2 = document.title || "untitled page";
      }
    });
    mounted = true;
    return unsubscribe;
  });
  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)
    $$bindings.stores(stores);
  if ($$props.page === void 0 && $$bindings.page && page !== void 0)
    $$bindings.page(page);
  if ($$props.components === void 0 && $$bindings.components && components !== void 0)
    $$bindings.components(components);
  if ($$props.props_0 === void 0 && $$bindings.props_0 && props_0 !== void 0)
    $$bindings.props_0(props_0);
  if ($$props.props_1 === void 0 && $$bindings.props_1 && props_1 !== void 0)
    $$bindings.props_1(props_1);
  if ($$props.props_2 === void 0 && $$bindings.props_2 && props_2 !== void 0)
    $$bindings.props_2(props_2);
  if ($$props.props_3 === void 0 && $$bindings.props_3 && props_3 !== void 0)
    $$bindings.props_3(props_3);
  $$result.css.add(css$1);
  {
    stores.page.set(page);
  }
  return `


${validate_component(components[0] || missing_component, "svelte:component").$$render($$result, Object.assign(props_0 || {}), {}, {
    default: () => `${components[1] ? `${validate_component(components[1] || missing_component, "svelte:component").$$render($$result, Object.assign(props_1 || {}), {}, {
      default: () => `${components[2] ? `${validate_component(components[2] || missing_component, "svelte:component").$$render($$result, Object.assign(props_2 || {}), {}, {
        default: () => `${components[3] ? `${validate_component(components[3] || missing_component, "svelte:component").$$render($$result, Object.assign(props_3 || {}), {}, {})}` : ``}`
      })}` : ``}`
    })}` : ``}`
  })}

${mounted ? `<div id="${"svelte-announcer"}" aria-live="${"assertive"}" aria-atomic="${"true"}" class="${"svelte-1j55zn5"}">${navigated ? `${escape(title2)}` : ``}</div>` : ``}`;
});
function set_paths(paths) {
}
function set_prerendering(value) {
}
var user_hooks = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module"
});
const template = ({ head, body }) => '<!DOCTYPE html>\n<html lang="en">\n	<head>\n		<meta charset="utf-8" />\n		<!-- <link rel="icon" href="https://fav.farm/\u{1F4A9}" /> -->\n		<meta name="viewport" content="width=device-width, initial-scale=1" />\n		' + head + '\n	</head>\n	<body>\n		<div id="svelte">' + body + "</div>\n	</body>\n</html>\n";
let options = null;
function init(settings) {
  set_paths(settings.paths);
  set_prerendering(settings.prerendering || false);
  options = {
    amp: false,
    dev: false,
    entry: {
      file: "/./_app/start-6779bf5e.js",
      css: ["/./_app/assets/start-8077b9bf.css"],
      js: ["/./_app/start-6779bf5e.js", "/./_app/chunks/vendor-55eff8e9.js", "/./_app/chunks/preload-helper-9f12a5fd.js"]
    },
    fetched: void 0,
    floc: false,
    get_component_path: (id) => "/./_app/" + entry_lookup[id],
    get_stack: (error) => String(error),
    handle_error: (error) => {
      console.error(error.stack);
      error.stack = options.get_stack(error);
    },
    hooks: get_hooks(user_hooks),
    hydrate: true,
    initiator: void 0,
    load_component,
    manifest,
    paths: settings.paths,
    read: settings.read,
    root: Root,
    router: true,
    ssr: true,
    target: "#svelte",
    template,
    trailing_slash: "never"
  };
}
const d = decodeURIComponent;
const empty = () => ({});
const manifest = {
  assets: [{ "file": "favicon.png", "size": 1571, "type": "image/png" }],
  layout: "src/routes/__layout.svelte",
  error: "src/routes/__error.svelte",
  routes: [
    {
      type: "page",
      pattern: /^\/$/,
      params: empty,
      a: ["src/routes/__layout.svelte", "src/routes/index.svelte"],
      b: ["src/routes/__error.svelte"]
    },
    {
      type: "page",
      pattern: /^\/about\/?$/,
      params: empty,
      a: ["src/routes/__layout.svelte", "src/routes/about.svelte"],
      b: ["src/routes/__error.svelte"]
    },
    {
      type: "page",
      pattern: /^\/posts\/?$/,
      params: empty,
      a: ["src/routes/__layout.svelte", "src/routes/posts/__layout.svelte", "src/routes/posts/index.svelte"],
      b: ["src/routes/__error.svelte"]
    },
    {
      type: "endpoint",
      pattern: /^\/posts\/post\.json$/,
      params: empty,
      load: () => Promise.resolve().then(function() {
        return post_json;
      })
    },
    {
      type: "page",
      pattern: /^\/posts\/about\/?$/,
      params: empty,
      a: ["src/routes/__layout.svelte", "src/routes/posts/__layout.svelte", "src/routes/posts/about.svelte"],
      b: ["src/routes/__error.svelte"]
    },
    {
      type: "page",
      pattern: /^\/posts\/([^/]+?)\/?$/,
      params: (m) => ({ slug: d(m[1]) }),
      a: ["src/routes/__layout.svelte", "src/routes/posts/__layout.svelte", "src/routes/posts/[slug].svelte"],
      b: ["src/routes/__error.svelte"]
    }
  ]
};
const get_hooks = (hooks) => ({
  getSession: hooks.getSession || (() => ({})),
  handle: hooks.handle || (({ request, resolve }) => resolve(request))
});
const module_lookup = {
  "src/routes/__layout.svelte": () => Promise.resolve().then(function() {
    return __layout$1;
  }),
  "src/routes/__error.svelte": () => Promise.resolve().then(function() {
    return __error;
  }),
  "src/routes/index.svelte": () => Promise.resolve().then(function() {
    return index$1;
  }),
  "src/routes/about.svelte": () => Promise.resolve().then(function() {
    return about$1;
  }),
  "src/routes/posts/__layout.svelte": () => Promise.resolve().then(function() {
    return __layout;
  }),
  "src/routes/posts/index.svelte": () => Promise.resolve().then(function() {
    return index;
  }),
  "src/routes/posts/about.svelte": () => Promise.resolve().then(function() {
    return about;
  }),
  "src/routes/posts/[slug].svelte": () => Promise.resolve().then(function() {
    return _slug_;
  })
};
const metadata_lookup = { "src/routes/__layout.svelte": { "entry": "/./_app/pages/__layout.svelte-b1aaf5a8.js", "css": ["/./_app/assets/pages/__layout.svelte-7c1012c9.css"], "js": ["/./_app/pages/__layout.svelte-b1aaf5a8.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/__error.svelte": { "entry": "/./_app/pages/__error.svelte-902d2231.js", "css": [], "js": ["/./_app/pages/__error.svelte-902d2231.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/index.svelte": { "entry": "/./_app/pages/index.svelte-afa21264.js", "css": [], "js": ["/./_app/pages/index.svelte-afa21264.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/about.svelte": { "entry": "/./_app/pages/about.svelte-b84632ba.js", "css": [], "js": ["/./_app/pages/about.svelte-b84632ba.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/posts/__layout.svelte": { "entry": "/./_app/pages/posts/__layout.svelte-657524a2.js", "css": [], "js": ["/./_app/pages/posts/__layout.svelte-657524a2.js", "/./_app/chunks/goodbye-31dbaa29.js", "/./_app/chunks/vendor-55eff8e9.js", "/./_app/chunks/hello-69c3ca6b.js", "/./_app/chunks/started-0599db51.js"], "styles": null }, "src/routes/posts/index.svelte": { "entry": "/./_app/pages/posts/index.svelte-2b52bcc1.js", "css": [], "js": ["/./_app/pages/posts/index.svelte-2b52bcc1.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/posts/about.svelte": { "entry": "/./_app/pages/posts/about.svelte-80837ddb.js", "css": [], "js": ["/./_app/pages/posts/about.svelte-80837ddb.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null }, "src/routes/posts/[slug].svelte": { "entry": "/./_app/pages/posts/[slug].svelte-ff9cf9bb.js", "css": [], "js": ["/./_app/pages/posts/[slug].svelte-ff9cf9bb.js", "/./_app/chunks/preload-helper-9f12a5fd.js", "/./_app/chunks/vendor-55eff8e9.js"], "styles": null } };
async function load_component(file) {
  return {
    module: await module_lookup[file](),
    ...metadata_lookup[file]
  };
}
init({ paths: { "base": "", "assets": "/." } });
function render(request, {
  prerender
} = {}) {
  const host = request.headers["host"];
  return respond({ ...request, host }, options, { prerender });
}
async function get({ params }) {
  return {
    status: 200,
    body: {
      data: "data returned from db"
    }
  };
}
var post_json = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  get
});
const Header = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<header><h1>Welcome</h1>
  <nav><a href="${"/"}">Home</a>
    <a href="${"/about"}">About Us</a>
    <a href="${"/posts"}">Posts</a></nav></header>

`;
});
var tailwind = "/* @tailwind base;\n@tailwind components;\n@tailwind utilities; */\n";
var __layout_svelte_svelte_type_style_lang = "footer.svelte-1lg7wa{background-color:hotpink}";
const css = {
  code: "footer.svelte-1lg7wa{background-color:hotpink}",
  map: `{"version":3,"file":"__layout.svelte","sources":["__layout.svelte"],"sourcesContent":["<script>\\n  import Header from '$lib/header.svelte'\\n  import \\"../tailwind.css\\";\\n<\/script>\\n\\n\\n<Header />\\n\\n<main class=\\"bg-blue-400\\">\\n  <slot />\\n</main>\\n\\n<footer>Copywrite 2021 Ellwood Front End Solutions</footer>\\n\\n<style>\\n  footer {\\n    background-color: hotpink;\\n  }\\n</style>\\n\\n"],"names":[],"mappings":"AAeE,MAAM,cAAC,CAAC,AACN,gBAAgB,CAAE,OAAO,AAC3B,CAAC"}`
};
const _layout$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${validate_component(Header, "Header").$$render($$result, {}, {}, {})}

<main class="${"bg-blue-400"}">${slots.default ? slots.default({}) : ``}</main>

<footer class="${"svelte-1lg7wa"}">Copywrite 2021 Ellwood Front End Solutions</footer>`;
});
var __layout$1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": _layout$1
});
function load$2({ error, status }) {
  return { props: { error, status } };
}
const _error = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { status } = $$props;
  let { error } = $$props;
  if ($$props.status === void 0 && $$bindings.status && status !== void 0)
    $$bindings.status(status);
  if ($$props.error === void 0 && $$bindings.error && error !== void 0)
    $$bindings.error(error);
  return `<h1>SOMETHING WENT WRONG</h1>
<h3>${escape(error.message)}</h3>
<h3>${escape(status)}</h3>`;
});
var __error = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": _error,
  load: load$2
});
const Routes = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h1>Welcome to Level UP</h1>
<p>Visit your house to learn more</p>`;
});
var index$1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Routes
});
const About$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h1>About me and my Dog</h1>
<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus vel dolorum iste atque facilis eos doloribus voluptatibus voluptas deleniti nulla vero, maxime delectus quis error quod dicta corrupti. Quis, ipsam!
</p>`;
});
var about$1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": About$1
});
const metadata$2 = {
  "title": "Goodbye",
  "slug": "goodbye",
  "author": "Jon Ellwood",
  "subject": "\u270C\uFE0F out",
  "date": "06/14/2021"
};
const { title: title$2, slug: slug$2, author: author$2, subject: subject$2, date: date$2 } = metadata$2;
const Goodbye = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h1 id="${"title"}"><a href="${"#title"}">${escape(title$2)}</a></h1>
<p>${escape(subject$2)}</p>
<p>${escape(author$2)} says\u2026
Good day!</p>
<p>I said Good Day!</p>`;
});
var __glob_1_0 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Goodbye,
  metadata: metadata$2
});
const metadata$1 = {
  "title": "Hello",
  "slug": "hello",
  "author": "Jon Ellwood",
  "subject": "Frontmatter",
  "date": "06/16/2021"
};
const { title: title$1, slug: slug$1, author: author$1, subject: subject$1, date: date$1 } = metadata$1;
const Hello = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h2 id="${"title-from-markdown"}"><a href="${"#title-from-markdown"}">${escape(title$1)} from Markdown</a></h2>
<p>by ${escape(author$1)}</p>
<p>Today we learn about ${escape(subject$1)}.</p>`;
});
var __glob_1_1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Hello,
  metadata: metadata$1
});
const metadata = {
  "title": "Started",
  "slug": "started",
  "author": "Jon Ellwood",
  "subject": "getting started",
  "date": "06/18/2021"
};
const { title, slug, author, subject, date } = metadata;
const Started = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h1 id="${"title"}"><a href="${"#title"}">${escape(title)}</a></h1>
<p>This is a post all about ${escape(subject)} with building web stuff.</p>
<p>You should do that.</p>
<p>The end</p>
<p>by ${escape(author)}</p>`;
});
var __glob_1_2 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Started,
  metadata
});
async function load$1() {
  const posts = { "../../posts/goodbye.md": __glob_1_0, "../../posts/hello.md": __glob_1_1, "../../posts/started.md": __glob_1_2 };
  const postsList = Object.values(posts);
  const postsMeta = postsList.map((post) => {
    return post.metadata;
  });
  return { props: { posts: postsMeta } };
}
const _layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { posts } = $$props;
  if ($$props.posts === void 0 && $$bindings.posts && posts !== void 0)
    $$bindings.posts(posts);
  return `<div>${slots.default ? slots.default({}) : ``}
  <aside><h5>Archive</h5>
    <ui>${each(posts, (post) => `<li><a sveltekit:prefetch${add_attribute("href", `/posts/${post.slug}`, 0)}>${escape(post.title)}</a></li>`)}
        <li><a rel="${"external"}" href="${"https://jonellwood.dev"}">Ellwood</a></li></ui></aside></div>`;
});
var __layout = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": _layout,
  load: load$1
});
const Posts = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h1>Posts</h1>
<article><h3>New Post</h3></article>`;
});
var index = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Posts
});
const About = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<h3>About this blog</h3>`;
});
var about = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": About
});
function __variableDynamicImportRuntime0__(path) {
  switch (path) {
    case "../../posts/goodbye.md":
      return Promise.resolve().then(function() {
        return __glob_1_0;
      });
    case "../../posts/hello.md":
      return Promise.resolve().then(function() {
        return __glob_1_1;
      });
    case "../../posts/started.md":
      return Promise.resolve().then(function() {
        return __glob_1_2;
      });
    default:
      return Promise.reject(new Error("Unknown variable dynamic import: " + path));
  }
}
async function load({ page }) {
  try {
    const Post = await __variableDynamicImportRuntime0__(`../../posts/${page.params.slug}.md`);
    return { props: { Post: Post.default } };
  } catch (e) {
    return {
      status: 404,
      error: "We cant find that shit you requested! Sorry homie"
    };
  }
}
const U5Bslugu5D = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { Post } = $$props;
  if ($$props.Post === void 0 && $$bindings.Post && Post !== void 0)
    $$bindings.Post(Post);
  return `${validate_component(Post, "Post").$$render($$result, {}, {}, {})}`;
});
var _slug_ = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": U5Bslugu5D,
  load
});
export { init, render };
